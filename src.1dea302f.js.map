{"version":3,"sources":["js/app-items.js","js/app.js","index.js"],"names":["preview","original","description","gallery","document","querySelector","lightbox","lightboxImage","lightboxOverlay","closeModalButton","itemIdx","createGalleryMarkup","markup","galleryItems","map","idx","join","replaceAttribute","src","alt","onOpenModal","evt","preventDefault","target","nodeName","Number","dataset","index","sourceEl","sourse","altEl","classList","add","window","addEventListener","onEscKeyPress","onSwipeKeyPress","onCloseModal","remove","removeEventListener","code","onOverlayClick","currentTarget","increment","length","decrement","galleryMarkup","insertAdjacentHTML"],"mappings":";;;AAAe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACb,CACEA,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBA9DF,QAAA,QAAA;;ACmGf,aAnGA,IAAA,EAAA,EAAA,QAAA,mBAmGA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAjGA,MAAMC,EAAUC,SAASC,cAAc,eACjCC,EAAWF,SAASC,cAAc,gBAClCE,EAAgBH,SAASC,cAAc,oBACvCG,EAAkBJ,SAASC,cAAc,sBACzCI,EAAmBL,SAASC,cAAc,kCAEhD,IAAIK,EAAU,EAEd,SAASC,IAoBAC,OAnBQC,EAAaC,QAAAA,IAAI,EAAGd,QAAAA,EAASC,SAAAA,EAAUC,YAAAA,GAAea,4HAOnDd,wDAGMc,4DAEPf,gCACQC,wBACRC,iCAGdc,KAAK,IAKV,SAASC,EAAiBC,EAAKC,GAC7BZ,EAAcW,IAAMA,EACpBX,EAAcY,IAAMA,EAGtB,SAASC,EAAYC,GAEfA,GADJA,EAAIC,iBACwB,QAAxBD,EAAIE,OAAOC,SACb,OAGFd,EAAUe,OAAOJ,EAAIE,OAAOG,QAAQC,OAE9BC,MAAAA,EAAWP,EAAIE,OAAOG,QAAQG,OAC9BC,EAAQT,EAAIE,OAAOJ,IAEzBb,EAASyB,UAAUC,IAAI,WACvBf,EAAiBW,EAAUE,GAE3BG,OAAOC,iBAAiB,UAAWC,GACnCF,OAAOC,iBAAiB,UAAWE,GAGrC,SAASC,IACP/B,EAASyB,UAAUO,OAAO,WAC1BrB,EAAiB,GAAI,IAErBgB,OAAOM,oBAAoB,UAAWJ,GAGxC,SAASA,EAAcd,GACJ,WAAbA,EAAImB,MACNH,IAIJ,SAASI,EAAepB,GAClBA,EAAIqB,gBAAkBrB,EAAIE,QAC5Bc,IAIJ,SAASM,IACHjC,GAAAA,IAAYG,EAAa+B,QAAAA,OAAS,EACpC,OAAQlC,EAAU,EACpBA,IAGF,SAASmC,IACHnC,GAAY,IAAZA,EACF,OAAQA,EAAUG,EAAa+B,QAAAA,OAAS,EAC1ClC,IAGF,SAAS0B,EAAgBf,GACV,cAAbA,EAAImB,MAAwBK,IACf,eAAbxB,EAAImB,MAAyBG,IACvB,MAAA,SAAE1C,EAAF,YAAYC,GAAgBW,EAAaH,QAAAA,GAC/CO,EAAiBhB,EAAUC,GAG7B,MAAM4C,EAAgBnC,EAAoBE,EAAD,SACzCV,EAAQ4C,mBAAmB,YAAaD,GAExC3C,EAAQ+B,iBAAiB,QAASd,GAClCX,EAAiByB,iBAAiB,QAASG,GAC3C7B,EAAgB0B,iBAAiB,QAASO;;AClG1C,aADA,QAAA,oBACA,QAAA","file":"src.1dea302f.js","sourceRoot":"../src","sourcesContent":["export default [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];","import galleryItems from './app-items.js';\n\nconst gallery = document.querySelector('.js-gallery');\nconst lightbox = document.querySelector('.js-lightbox');\nconst lightboxImage = document.querySelector('.lightbox__image');\nconst lightboxOverlay = document.querySelector('.lightbox__overlay');\nconst closeModalButton = document.querySelector('[data-action=\"close-lightbox\"]');\n\nlet itemIdx = 0;\n\nfunction createGalleryMarkup() {\n  const markup = galleryItems.map(({ preview, original, description }, idx) => {\n    return `\n    <li\n        class=\"galery__item\"\n        >\n        <a\n            class=\"gallery__link\"\n            href=\"${original}\"\n        >\n        <img\n            data-index=\"${idx}\"\n            class=\"gallery__image\"\n            src=\"${preview}\"\n            data-sourse=\"${original}\"\n            alt=\"${description}\" >\n        </a>\n    </li>`;\n  }).join('');\n\n  return markup;\n}\n\nfunction replaceAttribute(src, alt) {\n  lightboxImage.src = src;\n  lightboxImage.alt = alt;\n}\n\nfunction onOpenModal(evt) {\n  evt.preventDefault();\n  if (evt.target.nodeName !== 'IMG') {\n    return;\n  }\n\n  itemIdx = Number(evt.target.dataset.index);\n\n  const sourceEl = evt.target.dataset.sourse;\n  const altEl = evt.target.alt;\n\n  lightbox.classList.add('is-open');\n  replaceAttribute(sourceEl, altEl);\n\n  window.addEventListener('keydown', onEscKeyPress);\n  window.addEventListener('keydown', onSwipeKeyPress);\n}\n\nfunction onCloseModal() {\n  lightbox.classList.remove('is-open');\n  replaceAttribute(\"\", \"\");\n\n  window.removeEventListener('keydown', onEscKeyPress);\n}\n\nfunction onEscKeyPress(evt) {\n  if (evt.code === 'Escape') {\n    onCloseModal();\n  }\n}\n\nfunction onOverlayClick(evt) {\n  if (evt.currentTarget === evt.target) {\n    onCloseModal();\n  }\n}\n//Swipe\nfunction increment() {\n  if (itemIdx === galleryItems.length - 1) \n    return (itemIdx = 0);\n  itemIdx++;\n}\n\nfunction decrement() {\n  if (itemIdx === 0)\n    return (itemIdx = galleryItems.length - 1);\n  itemIdx--;\n}\n\nfunction onSwipeKeyPress(evt) {\n  evt.code === 'ArrowLeft' && decrement();\n  evt.code === 'ArrowRight' && increment();\n  const { original, description } = galleryItems[itemIdx];\n  replaceAttribute(original, description);\n}\n\nconst galleryMarkup = createGalleryMarkup(galleryItems);\ngallery.insertAdjacentHTML('beforeend', galleryMarkup);\n\ngallery.addEventListener('click', onOpenModal);\ncloseModalButton.addEventListener('click', onCloseModal);\nlightboxOverlay.addEventListener('click', onOverlayClick);","import './sass/main.scss';\nimport './js/app.js'"]}